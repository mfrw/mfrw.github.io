<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Playing with RPMS! &middot; Imposter!</title>
    <meta name="description" content="A light hearted intro to play with RPM to extract some information" />
    <link rel="shortcut icon"  href="http://mfrw.github.io/favicon.ico" />
    <link rel="alternate" type="application/atom+xml" title="RSS" href="http://mfrw.github.io/atom.xml">

    <style>html,body{background:#fffaf7;color:#2d2d2d;font:16px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}a,a:visited{color:darkred;text-decoration:none}a:hover{text-decoration:underline}main{margin:auto;max-width:60rem;padding:0.8rem}pre{background:white;overflow:scroll;padding:1rem}td{border:1px solid #2d2d2d;padding:10px}img{height:auto;max-width:100%}.homepage-list{list-style:none;padding:1rem 0}.homepage-list li{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:10px}@media (max-width: 50rem){.homepage-list li a{width:100%}}
</style>

    <meta property="og:site_name" content="Imposter!">
      
      <meta property="og:title" content="Playing with RPMS!">
      <meta property="og:description" content="A light hearted intro to play with RPM to extract some information">
      <meta property="og:url" content="http://mfrw.github.io/rpm/">
      <meta property="og:image" content="">

      <meta property="og:type" content="article" />
        <meta property="article:published_time" content="2021-11-23T00:00:00+00:00" />

      <link rel="prev" href="http://mfrw.github.io/oh-git/" />
      <link rel="next" href="http://mfrw.github.io/git-snag/" />
    

  </head>
  

  <body>
    <main id="main" role="main">

      
      <header role="banner">
        <h2 style="margin-top:0;">
          <a href="http://mfrw.github.io" title="Home">Imposter!</a>
          <br /><small>Notes from someone pretending!</small>
        </h2>
      </header>
      <hr />
      <h4>
      
        <nav style="margin-bottom:1rem;" role="navigation">
          
            <a href="http://mfrw.github.io/">Posts</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/talks">Talks</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/projects">Projects</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/about">About</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/atom.xml">RSS</a>
            
          
        </nav>
        
      </h4>
      <hr />


      

      
<article>
  <h1>
	  Playing with RPMS!

  </h1>

  
	  <p style="font-size:95%;">
		  <i>A light hearted intro to play with RPM to extract some information</i>
	  </p>
  

  
  <strong>
	  <i>
		  <p style="font-size:80%;">Posted on <time datetime="2021-11-23T00:00:00+00:00">November 23, 2021</time></p>
	  </i>
  </strong>
  
  <hr style="border-top: groove 3px;" />


  <p>I have been playing with RPM a lot lately. Do I like them ? Do I have fun while packaging stuff? Well in all honesty, nope, not at all, but I am learning new tricks to get more out of the RPM system.</p>
<p>Recently I have been involved with getting some information from specs files and also from the generated RPMS.</p>
<p>So, here, just for my own self, let me try to pen down a few tricks that i like to use with RPM.</p>
<h2 id="extract-all-the-packages-that-are-provided-by-a-given-rpm">Extract all the packages that are provided by a given RPM:</h2>
<pre data-lang="bash" style="background-color:#282a36;color:#f8f8f2;" class="language-bash "><code class="language-bash" data-lang="bash"><span> </span><span style="color:#50fa7b;">rpm</span><span style="font-style:italic;color:#ffb86c;"> -qp --qf </span><span style="color:#f1fa8c;">&#39;[%{N} \\n]&#39;</span><span style="font-style:italic;color:#ffb86c;"> --nosignature</span><span> some.rpm
</span></code></pre>
<p>The above command if broken down, if provided a <code>--query-format/--qf</code> which return whatever you ask from the RPM. In the above command, my question is simple, what packages are provided by the given RPM, without the <code>version/distro-tag/</code> or any other BS.</p>
<p>We could have asked the same question to a <code>.spec</code> file as well</p>
<pre data-lang="bash" style="background-color:#282a36;color:#f8f8f2;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#50fa7b;">rpmspec</span><span style="font-style:italic;color:#ffb86c;"> -q --queryformat </span><span style="color:#f1fa8c;">&#39;[%{N} \\n]&#39;</span><span> some.spec
</span></code></pre>
<p>To get all possible values of what can be given in the <code>--queryformat</code>, well, ask <code>rpm/rpmspec</code></p>
<pre data-lang="bash" style="background-color:#282a36;color:#f8f8f2;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#50fa7b;">rpmspec</span><span style="font-style:italic;color:#ffb86c;"> --querytags
</span></code></pre>
<p>Most of the values there are self-explainatory!</p>
<figure class="picture_cont" align=center>
<img width=45% source src="https://imgs.xkcd.com/comics/universal_install_script.png">
</img>
<figcaption>A Rando XKCD to express my...</figcaption>
</figure>
<p>Thats it for today!</p>

</article>


      
      <footer role="contentinfo">
        <hr />
        
        <nav style="margin-bottom:1rem;" role="navigation">
          
            <a href="http://mfrw.github.io/">Posts</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/talks">Talks</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/projects">Projects</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/about">About</a>
            
              <span>&middot;</span>
            
          
            <a href="http://mfrw.github.io/atom.xml">RSS</a>
            
          
        </nav>
        
      </footer>
      

    </main>
    
    
  </body>
</html>

